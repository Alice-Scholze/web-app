class HomeController < ApplicationController
  def index
    bubble_sort

    render json: { "#{permited_params[:id]}": Time.now}.as_json
  end

  def test
    bubble_sort
    
    render json: {'olÃ¡': Time.now}.as_json
  end

  private

  def bubble_sort
    array = [4477, 758, 1082, 3918, 2476, 1511, 4288, 3640, 1883, 4513, 1377, 2081, 3198, 1211, 3676, 3161, 3528, 4870, 3878, 775, 3567, 4122, 4089, 4053, 1187, 4824, 4690, 1984, 1349, 1825, 3217, 3065, 3431, 2871, 3682, 2017, 1843, 2224, 2156, 2571, 4958, 1281, 1506, 809, 2169, 3897, 2175, 3260, 639, 1159, 2618, 902, 4845, 3428, 952, 1054, 4520, 2394, 4726, 2706, 610, 2661, 2060, 2865, 827, 435, 3414, 3974, 3902, 4028, 1310, 1782, 2429, 3308, 976, 2748, 613, 4173, 4683, 1288, 1039, 4380, 414, 4379, 1637, 3134, 1374, 579, 4, 4901, 705, 1078, 3239, 682, 4144, 4370, 3439, 3494, 4259, 3424, 1824, 4616, 1441, 2509, 2984, 4145, 2320, 1510, 3620, 663, 1216, 1819, 2151, 4311, 695, 2594, 3507, 4175, 2079, 1002, 1673, 507, 2520, 550, 4850, 3679, 4579, 2181, 158, 2917, 4452, 1491, 4833, 2569, 4585, 225, 2282, 1048, 1967, 3782, 1711, 2049, 4946, 4094, 294, 1743, 2388, 1521, 584, 4939, 2807, 3586, 2742, 2549, 3412, 4035, 4817, 1920, 461, 2136, 1161, 4812, 1818, 2065, 2513, 939, 1597, 1381, 1839, 230, 1252, 2119, 1369, 2733, 1916, 861, 2072, 1584, 3909, 2274, 2593, 1502, 3257, 1860, 3372, 343, 607, 4146, 1303, 1649, 2518, 4620, 1933, 2097, 2316, 3670, 553, 4293, 1355, 2047, 972, 1063, 3709, 4894, 1322, 4234, 288, 1586, 3536, 160, 618, 13, 1986, 1007, 1962, 4214, 813, 2339, 3110, 3543, 879, 1392, 1119, 2035, 4568, 1810, 3130, 3741, 3045, 1120, 1394, 1928, 549, 4355, 702, 3725, 4623, 3075, 4996, 4658, 1551, 1740, 2680, 739, 1065, 621, 3629, 4701, 1658, 266, 4200, 344, 4256, 3025, 460, 3987, 1188, 116, 4574, 3466, 2326, 2251, 885, 4456, 3808, 1751, 4818, 804, 4723, 2635, 1379, 3125, 2529, 4598, 1445, 1891, 568, 818, 2495, 177, 4238, 4776, 1612, 2813, 1564, 3983, 4394, 1800, 1583, 1955, 370, 322, 4031, 803, 4005, 4267, 3939, 1100, 1805, 163]
    n = array.length
    swapped = true

    while swapped do
      swapped = false
      (n - 1).times do |i|
        if array[i] > array[i + 1]
          array[i], array[i + 1] = array[i + 1], array[i]
      swapped = true
        end
      end
    end

    array 
  end

  def permited_params
    params.permit(:id)
  end
end
